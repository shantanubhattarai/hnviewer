{"version":3,"sources":["components/Comment.js","components/pages/Story.js","components/pages/StoryList.js","App.js","index.js"],"names":["Comment","componentDidMount","fetchCommentDetails","props","id","setState","isLoading","fetch","then","response","json","commentDetails","fetchSubComments","state","kids","forEach","comments","key","this","className","deleted","by","dangerouslySetInnerHTML","__html","text","map","item","React","Component","Story","fetchStoryDetails","match","params","storyDetails","fetchComments","href","url","title","StoryList","fetchStories","stories","storyLoadCounter","slice","page","itemsInPage","amount","Math","floor","length","onClick","changePage","to","App","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.172265f7.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nclass Comment extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      commentDetails: {},\r\n      comments: [],\r\n      isLoading: false\r\n    };\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    this.fetchCommentDetails(this.props.id);\r\n  };\r\n\r\n  fetchCommentDetails = (id) => {\r\n    this.setState({ isLoading: true });\r\n    fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`)\r\n      .then((response) => response.json())\r\n      .then((response) => this.setState({ commentDetails: response, isLoading: false }))\r\n      .then(() => this.fetchSubComments());\r\n  };\r\n\r\n  fetchSubComments = () => {\r\n    if (this.state.commentDetails.kids) {\r\n      this.state.commentDetails.kids.forEach((id) => {\r\n        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`)\r\n          .then((response) => response.json())\r\n          .then((response) => this.setState({ comments: [...this.state.comments, response] }));\r\n      });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <li key={this.props.id}>\r\n        {this.state.isLoading && (\r\n          <p className=\"loader-container\">\r\n            <span className=\"loader\"></span>\r\n          </p>\r\n        )}\r\n        {this.state.commentDetails.deleted && <span className=\"deleted\">deleted</span>}\r\n        <p className=\"comment-user\">{this.state.commentDetails.by}</p>\r\n        <span dangerouslySetInnerHTML={{ __html: this.state.commentDetails.text }}></span>\r\n        <ul>\r\n          {this.state.comments.map((item) => (\r\n            <Comment key={item.id} id={item.id} />\r\n          ))}\r\n        </ul>\r\n      </li>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Comment;\r\n","import React from 'react';\r\nimport Comment from '../Comment';\r\nclass Story extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      storyDetails: {},\r\n      comments: []\r\n    };\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    this.fetchStoryDetails(this.props.match.params.id);\r\n  };\r\n\r\n  fetchStoryDetails = (id) => {\r\n    fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`)\r\n      .then((response) => response.json())\r\n      .then((response) => this.setState({ storyDetails: response }))\r\n      .then(() => this.fetchComments());\r\n  };\r\n\r\n  fetchComments = () => {\r\n    if (this.state.storyDetails.kids) {\r\n      this.state.storyDetails.kids.forEach((id) => {\r\n        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`)\r\n          .then((response) => response.json())\r\n          .then((response) => this.setState({ comments: [...this.state.comments, response] }));\r\n      });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <a href={this.state.storyDetails.url} className=\"story-title\">\r\n          {this.state.storyDetails.title}\r\n        </a>\r\n        <ul>\r\n          {this.state.comments.map((item) => {\r\n            return <Comment key={item.id} id={item.id} />;\r\n          })}\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Story;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nclass StoryList extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      stories: [],\r\n      storyDetails: [],\r\n      isLoading: false,\r\n      page: 0,\r\n      itemsInPage: 30,\r\n    };\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    this.fetchStories();\r\n  };\r\n\r\n  fetchStories = () => {\r\n    this.setState({ isLoading: true });\r\n    fetch(`https://hacker-news.firebaseio.com/v0/topstories.json`)\r\n      .then((response) => response.json())\r\n      .then((response) => {\r\n        this.setState({ stories: response, isLoading: false });\r\n        this.fetchStoryDetails();\r\n      });\r\n  };\r\n\r\n  fetchStoryDetails = () => {\r\n    let storyLoadCounter = 0;\r\n    this.setState({isLoading:true});\r\n    this.state.stories.slice(this.state.page * 30, (this.state.page+1) * 30).forEach((item) => {\r\n      fetch(`https://hacker-news.firebaseio.com/v0/item/${item}.json`)\r\n        .then((response) => response.json())\r\n        .then((response) => this.setState(\r\n          { storyDetails: [...this.state.storyDetails, response] },\r\n          () => {\r\n            storyLoadCounter++;\r\n            if(storyLoadCounter >= 29) this.setState({isLoading: false})\r\n          }))\r\n      });\r\n  };\r\n\r\n  changePage(amount = 1){\r\n    if(this.state.page === 0 && amount === -1) return;\r\n    if(this.state.page === Math.floor(this.state.stories.length / 30) && amount === 1) return;\r\n    this.setState({page: this.state.page + amount}, () => {this.fetchStoryDetails()});\r\n\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"main\">\r\n        <div className=\"paginate\">\r\n          <div className=\"btn-container\">\r\n            <button className=\"page-btn\" onClick={() => this.changePage(-1)}>Prev</button>\r\n            <span className=\"page-display\">{this.state.page + 1}</span>\r\n            <button className=\"page-btn\" onClick={() => this.changePage(1)}>Next</button>\r\n          </div>\r\n        </div>\r\n        <ul>\r\n          {this.state.storyDetails.slice(this.state.page * 30, (this.state.page+1) * 30).map((item) => (\r\n            <li key={item.id}>\r\n              <a href={item.url} className=\"story-title\">\r\n                {item.title}\r\n              </a>\r\n              <Link to={`/story/${item.id}`} className=\"comment-link\">\r\n                Comments\r\n              </Link>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n        {this.state.isLoading && (\r\n            <p className=\"loader-container\">\r\n              <span className=\"loader\"></span>\r\n            </p>\r\n          )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default StoryList;\r\n","import React from 'react';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport './styles/style.css';\nimport Story from './components/pages/Story';\nimport StoryList from './components/pages/StoryList';\n\nfunction App() {\n  return (\n    <div className=\"container\">\n      <h1>HN Viewer</h1>\n      <Router>\n        <Switch>\n          <Route path=\"/story/:id\" component={Story} />\n          <Route path=\"/\">\n            <StoryList />\n          </Route>\n        </Switch>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/reset.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}